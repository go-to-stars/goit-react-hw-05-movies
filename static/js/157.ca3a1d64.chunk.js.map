{"version":3,"file":"static/js/157.ca3a1d64.chunk.js","mappings":"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","sources":["components/Reviews/Reviews.styled.jsx","components/Reviews/Reviews.jsx","services/apiService.js"],"sourcesContent":["import styled from '@emotion/styled';\n\nexport const ListReviews = styled.ul`\n  margin-top: 10px;\n  list-style: none;\n`;\n\nexport const ListReviewsItem = styled.li`\n  margin-top: 10px;\n  min-height: 94px;\n\n  @media (max-width: 1023.98px) {\n    min-height: 80px;\n  }\n\n  @media (max-width: 767.98px) {\n    min-height: 64px;\n  }\n`;\n\nexport const ErrorTextReviews = styled.p`\n  margin-top: 10px;\n\n  font-size: 14px;\n  color: red;\n\n  @media (max-width: 1023.98px) {\n    font-size: 12px;\n  }\n\n  @media (max-width: 767.98px) {\n    font-size: 10px;\n  }\n`;\n\nexport const ErrorTextReview = styled.p`\n  margin-top: 10px;\n  text-align: center;\n\n  font-size: 14px;\n  color: red;\n\n  @media (max-width: 1023.98px) {\n    font-size: 12px;\n  }\n\n  @media (max-width: 767.98px) {\n    font-size: 10px;\n  }\n`;\n\nexport const AutorReview = styled.h2`\n  margin-bottom: 12px;\n\n  font-size: 20px;\n\n  @media (max-width: 1023.98px) {\n    margin-bottom: 8px;\n\n    font-size: 14px;\n  }\n\n  @media (max-width: 767.98px) {\n    margin-bottom: 4px;\n\n    font-size: 10px;\n  }\n`;\n\nexport const TextReview = styled.p`\n  margin-bottom: 24px;\n\n  font-size: 18px;\n\n  @media (max-width: 1023.98px) {\n    margin-bottom: 20px;\n\n    font-size: 12px;\n  }\n\n  @media (max-width: 767.98px) {\n    margin-bottom: 16px;\n\n    font-size: 8px;\n  }\n`;\n\nexport const ReviewCard = styled.div``;\n\nexport const BoxImg = styled.div`\n  width: 60px;\n  height: 90px;\n  float: left;\n  margin-right: 20px;\n  margin-bottom: 4px;\n\n  @media (max-width: 1023.98px) {\n    width: 50px;\n    height: 75px;\n    margin-right: 16px;\n  }\n\n  @media (max-width: 767.98px) {\n    width: 40px;\n    height: 60px;\n    margin-right: 12px;\n  }\n`;\n\nexport const Img = styled.img`\n  width: 100%;\n  height: 100%;\n`;\n","import { useEffect, useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { Loader } from 'components/Loader/Loader';\nimport Notiflix from 'notiflix';\nimport { getMovieReviews } from '../../services/apiService';\nimport defaultImg from '../../img/defaultImgAuthor.png'; // картинка за замовчування\nimport {\n  ListReviews,\n  ListReviewsItem,\n  ErrorTextReviews,\n  ReviewCard,\n  BoxImg,\n  Img,\n  AutorReview,\n  TextReview,\n  ErrorTextReview,\n} from './Reviews.styled';\n\nconst Reviews = () => {\n  const { movieId } = useParams(); // виклик хука useParams повертає об’єкт пар ключ/значення динамічних параметрів із поточної URL-адреси, які відповідають <Route path>.\n  const [listReviews, setListReviews] = useState([]); // виклик хука useState створює стан listReviews і метод setListReviews, який змінює його значення\n  const [isLoading, setIsLoading] = useState(false); // виклик хука useState створює стан isLoading і метод setIsLoading, який змінює його значення\n  const [error, setError] = useState(null); // виклик хука useState створює стан error і метод setError, який змінює його значення\n\n  useEffect(() => {\n    if (movieId !== '') {\n      try {\n        setIsLoading(true); // записуємо true в стан isLoading (показати лоадер)\n        getMovieReviews(movieId)\n          .then(respons => {\n            const data = respons;\n            setListReviews(data); // записуємо отримані дані в стан listReviews\n            setIsLoading(false); // записуємо false в стан isLoading (сховати лоадер)\n          })\n          .catch(error => {\n            setError(error); // записуємо помилку error в стан error\n            Notiflix.Notify.failure(\n              'Oops, sorry, there were problems with the download. Please try again.'\n            );\n            console.log('Error', error.message);\n          }); //передача вмісту запиту Id в фукцію \"setMovieDetails\" та очікування на відповідь; при правильній відповіді додаємо її в відповідні стани, при помилці виводимо відповідне повідомлення\n      } catch (error) {\n        setError(error); // записуємо помилку error в стан error\n        Notiflix.Notify.failure(\n          'Oops, sorry, there were problems with the download. Please try again.'\n        );\n        console.log('Error', error.message);\n      }\n    } // якщо немає Id-фільму, то запит на сервер не робимо\n  }, [movieId]); // якщо змінився Id-фільму (movieId) то виконуємо запит на сервер, при позитивній відповіді додаємо її в стан MovieDetails\n\n  return (\n    <>\n      {isLoading && <Loader />}\n\n      {error && <ErrorTextReviews>{error.message}</ErrorTextReviews>}\n\n      <ListReviews>\n        {listReviews.length > 0 ? (\n          listReviews.map(val => (\n            <ListReviewsItem key={val.id}>\n              <ReviewCard>\n                <BoxImg>\n                  <Img\n                    src={\n                      val.author_details.avatar_path &&\n                      val.author_details.avatar_path !== null &&\n                      val.author_details.avatar_path.slice(1, 6) === 'https'\n                        ? val.author_details.avatar_path.substring(1)\n                        : defaultImg\n                    }\n                    alt={val.author ? val.author : 'author'}\n                  />\n                </BoxImg>\n                <AutorReview>Author: {val.author}</AutorReview>\n                <TextReview>{val.content}</TextReview>\n              </ReviewCard>\n            </ListReviewsItem>\n          ))\n        ) : (\n          <ErrorTextReview>\n            We don't have any reviews for this movie.\n          </ErrorTextReview>\n        )}\n      </ListReviews>\n    </>\n  );\n}; // функція Reviews повертає для рендеру розмітку на сторінку Movie компонента Reviews (відгуки на фільм)\n\nexport default Reviews; // дефолтний експорт функції Reviews\n","import axios from 'axios';\n\nconst BASE_URL = 'https://api.themoviedb.org/3/'; // базовий URL\nconst API_KEY = 'da202acc53ecf63431320e0e34dbf559'; // ключ користувача\n\nexport const getTrending = async () => {\n  const url = `${BASE_URL}trending/movie/day?api_key=${API_KEY}`;\n  const responce = await axios(url);\n  if (responce.status !== 200) {\n    throw new Error(responce.status);\n  } // якщо статус відповіді не дорівнює 200 (успішний запит), то прокидаємо помилку з цим статусом\n  return responce.data.results;\n}; // асинхронна фукція getTrending() очікує та повертає, за допомогою бібліотеки \"axios\", проміс отриманих даних (тренди сьогоднішнього дня)\n\nexport const searchMovies = async query => {\n  const url = `${BASE_URL}search/movie?api_key=${API_KEY}&query=${query}`;\n  const responce = await axios(url);\n  if (responce.status !== 200) {\n    throw new Error(responce.status);\n  } // якщо статус відповіді не дорівнює 200 (успішний запит), то прокидаємо помилку з цим статусом\n  return responce.data.results;\n}; // асинхронна фукція searchMovies() очікує та повертає, за допомогою бібліотеки \"axios\", проміс отриманих даних (за запитом query, список фільмів)\n\nexport const getMovieDetails = async id => {\n  const url = `${BASE_URL}movie/${id}?api_key=${API_KEY}`;\n  const responce = await axios(url);\n  if (responce.status !== 200) {\n    throw new Error(responce.status);\n  } // якщо статус відповіді не дорівнює 200 (успішний запит), то прокидаємо помилку з цим статусом\n  return responce.data;\n}; // асинхронна фукція getMovieDetails() очікує та повертає, за допомогою бібліотеки \"axios\", проміс отриманих даних (деталі фільму за запитом id фільму)\n\nexport const getMovieCredits = async id => {\n  const url = `${BASE_URL}/movie/${id}/credits?api_key=${API_KEY}`;\n  const responce = await axios(url);\n  if (responce.status !== 200) {\n    throw new Error(responce.status);\n  } // якщо статус відповіді не дорівнює 200 (успішний запит), то прокидаємо помилку з цим статусом\n  return responce.data.cast;\n}; // асинхронна фукція getMovieDetails() очікує та повертає, за допомогою бібліотеки \"axios\", проміс отриманих даних (акторів за запитом id фільму)\n\nexport const getMovieReviews = async id => {\n  const url = `${BASE_URL}/movie/${id}/reviews?api_key=${API_KEY}`;\n  const responce = await axios(url);\n  if (responce.status !== 200) {\n    throw new Error(responce.status);\n  } // якщо статус відповіді не дорівнює 200 (успішний запит), то прокидаємо помилку з цим статусом\n  return responce.data.results;\n}; // асинхронна фукція getMovieDetails() очікує та повертає, за допомогою бібліотеки \"axios\", проміс отриманих даних (відгуки за запитом id фільму)\n"],"names":["ListReviews","styled","ListReviewsItem","ErrorTextReviews","ErrorTextReview","AutorReview","TextReview","ReviewCard","BoxImg","Img","movieId","useParams","useState","listReviews","setListReviews","isLoading","setIsLoading","error","setError","useEffect","getMovieReviews","then","respons","catch","Notiflix","console","log","message","Loader","length","map","val","src","author_details","avatar_path","slice","substring","alt","author","content","id","BASE_URL","API_KEY","getTrending","url","axios","responce","status","Error","data","results","searchMovies","query","getMovieDetails","getMovieCredits","cast"],"sourceRoot":""}