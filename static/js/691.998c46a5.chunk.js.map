{"version":3,"file":"static/js/691.998c46a5.chunk.js","mappings":"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","sources":["components/Loader/Loader.styled.jsx","components/Loader/Loader.jsx","pages/Movies/Movies.styled.jsx","pages/Movies/Movies.jsx","services/apiService.js"],"sourcesContent":["import styled from '@emotion/styled';\n\nexport const BoxSpinner = styled.div`\n  margin: 10px auto;\n  text-align: center;\n`;\n","import { BoxSpinner } from './Loader.styled';\nimport { RotatingLines } from 'react-loader-spinner';\nexport const Loader = () => (\n  <BoxSpinner>\n    <RotatingLines\n      strokeColor=\"#303f9f\"\n      strokeWidth=\"5\"\n      animationDuration=\"0.8\"\n      width=\"96\"\n      visible={true}\n    />\n  </BoxSpinner>\n); // повернення для рендеру розмітки завантажувача (spinner-а), тег BoxSpinner (div)\n","import styled from '@emotion/styled';\nimport { Form, Field, ErrorMessage } from 'formik';\n\nexport const ContainerMovies = styled.div`\n  padding: 10px;\n`;\n\nexport const FormContainer = styled(Form)`\n  display: flex;\n  align-items: center;\n  width: 100%;\n  max-width: 600px;\n  margin-left: auto;\n  margin-right: auto;\n  background-color: #fff;\n  border-radius: 3px;\n  overflow: hidden;\n\n  @media (max-width: 1023.98px) {\n    max-width: 450px;\n  }\n\n  @media (max-width: 767.98px) {\n    max-width: 300px;\n  }\n`;\n\nexport const Input = styled(Field)`\n  display: inline-block;\n  width: 100%;\n  padding: 9px 10px;\n  border-top-left-radius: 12px;\n  border-bottom-left-radius: 12px;\n\n  font: inherit;\n  font-size: 20px;\n  line-height: 1;\n\n  border: 2px solid #4056b4;\n  outline: none;\n\n  @media (max-width: 1023.98px) {\n    padding: 8.5px 10px;\n\n    font-size: 16px;\n  }\n\n  @media (max-width: 767.98px) {\n    padding: 8px 6px;\n\n    font-size: 12px;\n  }\n\n  &::placeholder {\n    font: inherit;\n    font-size: 20px;\n    line-height: 1;\n\n    @media (max-width: 1023.98px) {\n      font-size: 16px;\n    }\n\n    @media (max-width: 767.98px) {\n      font-size: 12px;\n    }\n  }\n`;\n\nexport const Button = styled.button`\n  display: flex;\n  //   width: 48px;\n  //   height: 48px;\n  align-items: center;\n  justify-content: center;\n  //   gap: 10px;\n  border: 0;\n  //   opacity: 0.6;\n  //   transition: opacity 250ms cubic-bezier(0.4, 0, 0.2, 1);\n  cursor: pointer;\n  outline: none;\n  color: #4056b4;\n  border: 2px solid #4056b4;\n  padding: 15.8px 10px;\n  border-top-right-radius: 12px;\n  border-bottom-right-radius: 12px;\n\n  //   &:hover {\n  //     opacity: 1;\n  //   }\n\n  &:hover,\n  &:focus {\n    // opacity: 1;\n    color: #ff6b0a;\n    border: 2px solid #ff6b0a;\n  }\n\n  @media (max-width: 1023.98px) {\n    width: 42px;\n    height: 42px;\n    padding: 12px 10px;\n  }\n\n  @media (max-width: 767.98px) {\n    width: 36px;\n    height: 36px;\n  }\n`;\n\nexport const ButtonText = styled.span`\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  clip-path: inset(50%);\n  border: 0;\n`;\n\nexport const ErrorTextMovies = styled(ErrorMessage)`\n  margin: 0;\n\n  font-size: 14px;\n  color: red;\n\n  @media (max-width: 1023.98px) {\n    font-size: 12px;\n  }\n\n  @media (max-width: 767.98px) {\n    font-size: 10px;\n  }\n`;\n\nexport const ListMovies = styled.ul`\n  display: flex;\n  flex-direction: column;\n  margin-top: 10px;\n\n  list-style: inside;\n  gap: 5px;\n`;\n\nexport const ListItemMovies = styled.li`\n  font-size: 14px;\n  color: #4056b4;\n  // transition: color 250ms cubic-bezier(0.4, 0, 0.2, 1);\n\n  &:hover,\n  &:focus {\n    color: #ff6b0a;\n  }\n\n  // @media (max-width: 1023.98px) {\n  //     font-size: 12px;\n  //   }\n\n  //   @media (max-width: 767.98px) {\n  //     font-size: 10px;\n  //   }\n`;\n\n// export const ErrorTextMovies = styled.p\n//`;\n//   margin: 0;\n\n//   font-size: 14px;\n//   color: red;\n\n//   @media (max-width: 1023.98px) {\n//     font-size: 12px;\n//   }\n\n//   @media (max-width: 767.98px) {\n//     font-size: 10px;\n//   }\n// `;\n","import { useState, useEffect } from 'react';\nimport { Link, useLocation, useSearchParams } from 'react-router-dom';\nimport { Loader } from 'components/Loader/Loader';\nimport Notiflix from 'notiflix';\nimport { Formik } from 'formik';\nimport * as Yup from 'yup';\nimport { BsSearch } from 'react-icons/bs';\nimport { searchMovies } from '../../services/apiService';\nimport {\n  ContainerMovies,\n  FormContainer,\n  Input,\n  Button,\n  ListMovies,\n  ListItemMovies,\n  ErrorTextMovies,\n  ButtonText,\n} from './Movies.styled';\n\nconst queryRegex = /^[a-zA-Zа-яА-Я]*$/; // регулярний вираз для запиту\n\nconst schema = Yup.object().shape({\n  query: Yup.string()\n    .matches(queryRegex, 'Query is not valid!')\n    .max(15, 'Too Long!')\n    .trim(),\n}); // валідація полів форми\n\nconst INITIAL_STATE = {\n  query: '',\n}; // ініціалізація полів форми\n\nconst Movies = () => {\n  const [searchParams, setSearchParams] = useSearchParams();\n  const query = searchParams.get('query') ?? '';\n  const [searchQuery, setSearchQuery] = useState('');\n  const [listMovies, setListMovies] = useState([]);\n  const location = useLocation();\n  const [error, setError] = useState(null);\n  const [isLoading, setIsLoading] = useState(false); // виклик хука useState створює стан isLoading і метод setIsLoading, який змінює його значення\n\n  useEffect(() => {\n    if (query !== '') {\n      try {\n        setIsLoading(true); // записуємо true в стан isLoading (показати лоадер)\n        searchMovies(query)\n          .then(respons => {\n            const data = respons;\n            setListMovies(data); // записуємо отримані дані в стан ListMovies\n            setIsLoading(false); // записуємо false в стан isLoading (сховати лоадер)\n\n            if (data.length === 0) {\n              Notiflix.Notify.failure(\n                'There are no movies for this request. Please try another query.'\n              );\n            } // при пустому масиві у відповіді, виводимо відповідне повідомлення\n          })\n          .catch(error => {\n            setError(error); // записуємо помилку error в стан error\n            Notiflix.Notify.failure(\n              'Oops, sorry, there were problems with the download. Please try again.'\n            );\n            console.log('Error', error.message);\n          }); //передача вмісту запиту query і номера сторінки page в фукцію \"searchMovies\" та очікування на відповідь; при правильній відповіді додаємо її в відповідні стани, при помилці виводимо відповідне повідомлення\n      } catch (error) {\n        setError(error); // записуємо помилку error в стан error\n        Notiflix.Notify.failure(\n          'Oops, sorry, there were problems with the download. Please try again.'\n        );\n        console.log('Error', error.message);\n      }\n    } // якщо поле query пусте, то запит на сервер не робимо\n  }, [query]); // якщо змінився запит (query) то виконуємо запит на сервер, при позитивній відповіді додаємо її в стан ListMovies\n\n  const inputChange = e => setSearchQuery(e.target.value.toLowerCase());\n\n  const formSubmit = e => {\n    // e.preventDefault();    \n    searchQuery && setSearchParams({ query: searchQuery });\n    e.target = '';\n  };\n\n  return (\n    <ContainerMovies>\n      <Formik\n        initialValues={INITIAL_STATE}\n        validationSchema={schema}\n        onSubmit={formSubmit}\n      >\n        <FormContainer>\n          <Input\n            type=\"text\"\n            name=\"query\"\n            value={searchQuery}\n            autoComplete=\"off\"\n            autoFocus\n            onChange={inputChange}\n          />\n          <Button type=\"submit\">\n            <BsSearch />\n            <ButtonText>Search</ButtonText>\n          </Button>\n          {error && <ErrorTextMovies>{error.message}</ErrorTextMovies>}\n        </FormContainer>\n      </Formik>\n      {isLoading && <Loader />}\n      <ListMovies>\n        {listMovies.map(movie => (\n          <ListItemMovies key={movie.id} className={'content'}>\n            <Link to={`${movie.id}`} state={{ from: location }}>\n              {movie.title}\n            </Link>\n          </ListItemMovies>\n        ))}\n      </ListMovies>\n    </ContainerMovies>\n  );\n};\n\nexport default Movies;\n","import axios from 'axios';\n\nconst BASE_URL = 'https://api.themoviedb.org/3/'; // базовий URL\nconst API_KEY = 'da202acc53ecf63431320e0e34dbf559'; // ключ користувача\n\nconst requestParams = new URLSearchParams({\n  image_type: 'photo',\n  orientation: 'horizontal',\n  safesearch: 'true',\n  per_page: 12,\n}); // параметри запиту\n\nexport const fetchPictures = async (query, page) => {\n  const url = `${BASE_URL}?api_key=${API_KEY}&q=${query}&${requestParams}&page=${page}`;\n\n  const responce = await axios(url);\n\n  // .get(`${BASE_URL}trending/movie/day?api_key=${API_KEY}`)\n  //       .then(({ data }) => setListMovies(data.results))\n  //       .catch(error => setError(error));\n\n  if (responce.status !== 200) {\n    throw new Error(responce.status);\n  } // якщо статус відповіді не дорівнює 200 (успішний запит), то прокидаємо помилку з цим статусом\n\n  return responce.data.hits;\n}; // асинхронна фукція fetchPictures() очікує та повертає, за допомогою бібліотеки \"axios\", проміс отриманих даних\n\nexport const getTrending = async () => {\n  const url = `${BASE_URL}trending/movie/day?api_key=${API_KEY}`;\n  const responce = await axios(url);\n  if (responce.status !== 200) {\n    throw new Error(responce.status);\n  } // якщо статус відповіді не дорівнює 200 (успішний запит), то прокидаємо помилку з цим статусом\n  return responce.data.results;\n}; // асинхронна фукція getTrending() очікує та повертає, за допомогою бібліотеки \"axios\", проміс отриманих даних (тренди сьогоднішнього дня)\n\nexport const searchMovies = async query => {\n  const url = `${BASE_URL}search/movie?api_key=${API_KEY}&query=${query}`;\n  const responce = await axios(url);\n  if (responce.status !== 200) {\n    throw new Error(responce.status);\n  } // якщо статус відповіді не дорівнює 200 (успішний запит), то прокидаємо помилку з цим статусом\n  return responce.data.results;\n}; // асинхронна фукція searchMovies() очікує та повертає, за допомогою бібліотеки \"axios\", проміс отриманих даних (за запитом query)\n\nexport const getMovieDetails = async id => {\n  const url = `${BASE_URL}movie/${id}?api_key=${API_KEY}`;\n  const responce = await axios(url);\n  if (responce.status !== 200) {\n    throw new Error(responce.status);\n  } // якщо статус відповіді не дорівнює 200 (успішний запит), то прокидаємо помилку з цим статусом\n  return responce.data;\n}; // асинхронна фукція getMovieDetails() очікує та повертає, за допомогою бібліотеки \"axios\", проміс отриманих даних (за запитом id фільму)\n\nexport const getMovieCredits = async id => {\n  const url = `${BASE_URL}/movie/${id}/credits?api_key=${API_KEY}`;\n  const responce = await axios(url);\n  if (responce.status !== 200) {\n    throw new Error(responce.status);\n  } // якщо статус відповіді не дорівнює 200 (успішний запит), то прокидаємо помилку з цим статусом\n  return responce.data.cast;\n}; // асинхронна фукція getMovieDetails() очікує та повертає, за допомогою бібліотеки \"axios\", проміс отриманих даних (за запитом id фільму)\n\nexport const getMovieReviews = async id => {\n  const url = `${BASE_URL}/movie/${id}/reviews?api_key=${API_KEY}`;\n  const responce = await axios(url);\n  if (responce.status !== 200) {\n    throw new Error(responce.status);\n  } // якщо статус відповіді не дорівнює 200 (успішний запит), то прокидаємо помилку з цим статусом\n  return responce.data.results;\n}; // асинхронна фукція getMovieDetails() очікує та повертає, за допомогою бібліотеки \"axios\", проміс отриманих даних (за запитом id фільму)\n"],"names":["BoxSpinner","styled","Loader","strokeColor","strokeWidth","animationDuration","width","visible","ContainerMovies","FormContainer","Form","Input","Field","Button","ButtonText","ErrorTextMovies","ErrorMessage","ListMovies","ListItemMovies","schema","Yup","shape","query","matches","max","trim","INITIAL_STATE","useSearchParams","searchParams","setSearchParams","get","useState","searchQuery","setSearchQuery","listMovies","setListMovies","location","useLocation","error","setError","isLoading","setIsLoading","useEffect","searchMovies","then","respons","data","length","Notiflix","catch","console","log","message","initialValues","validationSchema","onSubmit","e","target","type","name","value","autoComplete","autoFocus","onChange","toLowerCase","map","movie","className","to","id","state","from","title","BASE_URL","API_KEY","getTrending","URLSearchParams","image_type","orientation","safesearch","per_page","url","axios","responce","status","Error","results","getMovieDetails","getMovieCredits","cast","getMovieReviews"],"sourceRoot":""}